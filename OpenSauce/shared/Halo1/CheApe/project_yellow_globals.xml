<?xml version="1.0" encoding="us-ascii" standalone="yes"?>
<definitions game="Halo1">
	<!-- see: OpenSauce\shared\YeloLib\Halo1\open_sauce\project_yellow_global_definitions.hpp -->

	<flags>
		<Flag name="gameplay_game_type_player_settings_flags">
			<field>inherit#inherit from the 'global' player's settings</field>
		</Flag>

		<Flag name="project_yellow_global_flags">
			<field>hide health when zoomed</field>
			<field>hide shield when zoomed</field>
			<field>hide motion sensor when zoomed</field>
			<field>ALLOW unit infections during cinematics#when enabled, units can become infected while a cutscene is active</field>
			<field>ALLOW grenade chain reactions in MP#when enabled, grenades will explode in chain reactions like they do in camapaign</field>
			<field>force game to use stun jumping penalty#engine code uses turning penalty in the jump code for whatever reason. this will cause it to use the jump field instead</field>
		</Flag>
		
		<Flag name="unit_boarding_seat_flags">
			<field>boarding_ejects_target_seat</field>
			<field>boarding_enters_target_seat</field>
			<field>boarding_kills_passenger</field>
			<field>boarding_depletes_shield</field>
			<field>controls_open_and_close</field>
		</Flag>
	</flags>

	<blocks>
		<!-- TODO: Remove -->
		<TagBlock name="preprocess_maplist_block" maxElements="32">
			<field type="String" name="name" />
			<field type="TagReference" name="scenario" definition="scenario_reference_non_resolving" />
			<field type="Pad" definition="24" />
		</TagBlock>
		<!-- TODO: Remove -->
		<TagBlock name="preprocess_block" maxElements="0">
			<field type="Pad" definition="4" />
			<field type="Block" name="campaign" definition="preprocess_maplist_block" />
			<field type="Block" name="multiplayer" definition="preprocess_maplist_block" />
			<field type="Pad" definition="80" />
		</TagBlock>


		<!-- TODO: Hidden until we finalize the tag structure -->
		<TagBlock name="network_game_player_unit" maxElements="0">
			<field type="String" name="name" blockname="true" tooltip="name of this block definition" />
			<field type="TagReference" name="definition" definition="unit_reference" tooltip="unit definition for this player's biped" />
			<field type="Pad" definition="32" />
		</TagBlock>


		<TagBlock name="unit_infection_form_block" maxElements="8">
			<field type="TagReference" name="unit" definition="object_reference" blockname="true" />
		</TagBlock>
		<TagBlock name="unit_infection_block" maxElements="64">
			<field type="Pad" definition="2" />
			<field type="ShortBlockIndex" name="infection form" definition="unit_infection_form_block" />
			<field type="TagReference" name="unit" definition="unit_reference" blockname="true" tooltip="the unit being infected by an infection form (e.g. elite)" />
			<field type="RealFraction" name="health threshold" tooltip="when our health reaches this threshold after a bj from an infection form, we'll be infected" />
			
			<field type="TagReference" name="infected unit" definition="unit_reference" tooltip="the unit we're transitioning to when we're infected (e.g. flood combat elite)" />
			<field type="TagReference" name="infected unit actor variant" definition="actor_variant_reference" tooltip="the infected unit's actor variant after the transition" />
			<field type="TagReference" name="transition effect" definition="effect_reference" tooltip="the effect played during our infection transition" />

			<field type="TagReference" name="attachment object" definition="object_reference" tooltip="object attached to the unit during infection" />
			<field type="String" name="attachment marker" tooltip="the marker our infection attachment object is attached to" />
			<field type="ShortInteger" name="attachment marker count" tooltip="the number of attachment markers with this name" />
			<field type="Pad" definition="2" />

			<field type="Pad" definition="20" />
		</TagBlock>
		<TagBlock name="unit_infections_block" maxElements="1">
			<field type="Pad" definition="4" />
			<field type="Block" name="infection forms" definition="unit_infection_form_block" tooltip="units which can infect regular units" />
			<field type="Block" name="infectable units" definition="unit_infection_block" />

			<field type="Pad" definition="24" />
		</TagBlock>
		
		<TagBlock name="unit_boarding_seat_block" maxElements="32">
			<field type="WordFlags" name="flags" definition="unit_boarding_seat_flags" />
			<field type="Pad" definition="2" />
			<field type="ShortInteger" name="seat_index" />
			<field type="ShortInteger" name="target_seat_index" />
			<field type="String" name="seat_label" blockname="true" />
			<field type="String" name="target_seat_label" />
			
			<field type="Pad" definition="24" />
		</TagBlock>
		<TagBlock name="unit_external_upgrades_block" maxElements="64">
			<field type="TagReference" name="unit" definition="object_reference" blockname="true" />
			<field type="Block" name="boarding seats" definition="unit_boarding_seat_block" />
			
			<field type="Pad" definition="36" />
		</TagBlock>
		
		
		<!-- UNUSED -->
		<TagBlock name="dual_wield_weapon_block" maxElements="256">
			<field type="TagReference" name="primary weapon" definition="weapon_reference" />
			<field type="TagReference" name="secondary weapon" definition="weapon_reference" />
			<field type="TagReference" name="dualing weapon" definition="weapon_reference" blockname="true" />

			<field type="Pad" definition="32" />
		</TagBlock>

		<!-- UNUSED -->
		<TagBlock name="object_damage_region_permutation_extension_block" maxElements="32">
			<field type="String" name="name" blockname="true" />
			<field type="Real" name="damage threshold" tooltip="if this region takes this amount of damage, it will be switch to this permutation" />

			<field type="String" name="effect marker name" />
			<field type="TagReference" name="transition effect" definition="effect_reference" />
			<field type="Pad" definition="32" />

			<field type="String" name="damage effect marker name" />
			<field type="TagReference" name="transition damage effect" definition="damage_effect_reference" />
			<field type="Pad" definition="32" />
		</TagBlock>
		<!-- UNUSED -->
		<TagBlock name="object_damage_region_extension_block" maxElements="32">
			<field type="String" name="name" blockname="true" />
			<field type="Block" name="damage permutations" definition="object_damage_region_permutation_extension_block" />
		</TagBlock>
		<!-- UNUSED -->
		<TagBlock name="object_damage_extension_block" maxElements="512">
			<field type="TagReference" name="object" definition="object_reference" blockname="true" />
			<field type="Block" name="damage regions" definition="object_damage_region_extension_block" />
		</TagBlock>
	</blocks>

	<groups>
		<TagGroup name="project_yellow_globals" groupTag="gelo" version="2">
			<field type="ShortInteger" name="version" locked="true" />
			<field type="WordFlags" name="flags" definition="project_yellow_global_flags" />
			<field type="LongInteger" name="base_address" locked="true" />
			<field type="String" name="mod name" tooltip="name of the engine 'mod' these globals, and inheriting scenario, are for" />

			<field type="TagReference" name="global explicit references" definition="tag_collection_reference" />
			<field type="Pad" definition="32" />

			<!-- TODO: Remove -->
			<field type="Block" name="" definition="preprocess_block" />

			<field type="Explanation" name="UI" />
			<field type="Pad" definition="16" />
			<field type="Pad" definition="16" />
			<!-- TODO: Remove
			<field type="Explanation" name="UI" definition="~N(If this is a ui cache) Map lists specify what maps to add to the map chooser ui" />
			<field type="TagReference" name="custom map list - sp" definition="string_list_reference" tooltip="SHOULD BE AUTOFILLED BY preprocess_maplist_block" />
			<field type="TagReference" name="custom map list - mp" definition="string_list_reference" tooltip="SHOULD BE AUTOFILLED BY preprocess_maplist_block" />
			-->
			<field type="Pad" definition="16" />
			<field type="Pad" definition="4" />
			<field type="Block" name="scripted ui widgets" definition="project_yellow_scripted_ui_widget_block" />

			<!-- <field type="Explanation" name="Netgame" definition="" /> -->
			<!-- TODO: Hidden until we finalize the tag structure -->
			<field type="Block" name="" definition="network_game_player_unit" />
			<field type="Pad" definition="20" />
			
			<field type="Explanation" name="Scripting" definition="External scripting definitions (Yelo)" />
			<field type="Block" name="yelo scripting" definition="scripting_block" />

			<field type="Explanation" name="Misc" definition="" />
			<field type="Block" name="unit infections" definition="unit_infections_block" />
			<field type="Block" name="unit upgrades" definition="unit_external_upgrades_block" />

			<!--<field type="Block" name="dual wielding" definition="dual_wield_weapon_block" />-->
			<!--<field type="Block" name="object damage extensions" definition="object_damage_extension_block" />-->

			<field type="Pad" definition="56" />
		</TagGroup>
	</groups>

</definitions>